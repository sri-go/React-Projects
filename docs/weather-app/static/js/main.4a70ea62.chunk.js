(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{17:function(e,t,a){e.exports=a(59)},22:function(e,t,a){},57:function(e,t,a){},59:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(12),r=a.n(l),s=(a(22),a(6)),i=a.n(s),o=a(13),m=a(3),u=a(14),d=a.n(u),p=a(15),h=a.n(p);a(8);function v(e){var t=Object(n.useRef)(),a=new h.a({accessToken:"pk.eyJ1Ijoic3JpLWdvIiwiYSI6ImNrODUyeHp1YjAyb2wzZXA4b21veGhqdjgifQ.wprAUOeXWkoWy1-nbUd1NQ",types:"country,region,place,postcode,locality,neighborhood"});return Object(n.useEffect)((function(){a.addTo(t.current)}),[]),Object(n.useEffect)((function(){a.on("result",(function(t){e.sendLocation(t.result.center)}))})),c.a.createElement("div",{className:"control"},c.a.createElement("a",{onClick:e.onClick()},c.a.createElement("img",{src:"./Assets/cbimage.jpg",style:{width:"16px",height:"16px"}})),c.a.createElement("div",{ref:t,style:{zIndex:1,width:"100%",maxWidth:"900px",textAlign:"center",top:"20px"}}))}function f(e){var t=e.weather;return c.a.createElement("div",{className:"detailsWrapper"},c.a.createElement("div",{className:"details"},c.a.createElement("div",{className:"wind"},c.a.createElement("span",{className:"label"},"Wind:"),c.a.createElement("span",null,t.wind_speed.value," ",t.wind_speed.units)),c.a.createElement("div",{className:"humidity"},c.a.createElement("span",{className:"label"},"Humidity:"),c.a.createElement("span",null,t.humidity.value," ",t.humidity.units)),c.a.createElement("div",{className:"dew_point"},c.a.createElement("span",{className:"label"},"Dew Point:"),c.a.createElement("span",null,t.dewpoint.value," ",t.dewpoint.units)),c.a.createElement("div",{className:"visibility"},c.a.createElement("span",{className:"label"},"Visibility:"),c.a.createElement("span",null,t.weather_code.value)),c.a.createElement("div",{className:"pressure"},c.a.createElement("span",{className:"label"},"Pressure:"),c.a.createElement("span",null,t.baro_pressure.value," ",t.baro_pressure.units))))}function y(e){var t,a=e.weather;t=e.date.getHours()>18?"_night":"_day";var n;return n=n=["partly_cloudy","mostly_clear","clear"].includes(a.weather_code.value)?"".concat(".","/Assets/color/").concat(a.weather_code.value).concat(t,".svg"):"".concat(".","/Assets/color/").concat(a.weather_code.value,".svg"),c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"title"},c.a.createElement("span",{className:"currently"},c.a.createElement("span",{className:"icon"},c.a.createElement("img",{src:n,alt:"product"})),c.a.createElement("span",{className:"description"},c.a.createElement("span",{className:"summary"},c.a.createElement("span",{className:"label"},"Temperature:"),c.a.createElement("span",null,a.temp.value,"\xb0",a.temp.units)),c.a.createElement("span",{className:"summary-high-low"},c.a.createElement("span",{className:"label"},"Feels Like:\xa0"),c.a.createElement("span",null,a.feels_like.value,"\xb0",a.feels_like.units))))),c.a.createElement("div",{className:"timeline"}))}var g=a(1);function E(e){var t,a,n=e.max,l=e.min,r=n-l,s=100/r,i=e.data[0]-l,o=i*s,m=(r-i-(n-e.data[1]))*s;return c.a.createElement("span",{style:{display:"block",position:"relative",width:"570px",height:"100%",margin:"0em 3em 1em"}},c.a.createElement("span",{style:(t={textAlign:"right",marginLeft:"-55px",lineHeight:"24px",fontWeight:"16px"},Object(g.a)(t,"fontWeight","400"),Object(g.a)(t,"display","block"),Object(g.a)(t,"position","absolute"),Object(g.a)(t,"width","50px"),Object(g.a)(t,"height","24px"),Object(g.a)(t,"left","".concat(o,"%")),t)},e.data[0],"\u02da"),c.a.createElement("span",{style:{display:"block",position:"absolute",marginLeft:"".concat(o,"%"),width:"".concat(m,"%"),minHeight:"20px",backgroundColor:"#333",borderRadius:"10px"}}),c.a.createElement("span",{style:(a={textAlign:"left",marginLeft:"7px",lineHeight:"24px",fontWeight:"16px"},Object(g.a)(a,"fontWeight","400"),Object(g.a)(a,"display","block"),Object(g.a)(a,"position","absolute"),Object(g.a)(a,"width","50px"),Object(g.a)(a,"height","24px"),Object(g.a)(a,"left","".concat(o+m,"%")),a)},e.data[1],"\u02da"))}function w(e){var t,a=e.max,n=e.min,l=e.data;t=t=["partly_cloudy","mostly_clear","clear"].includes(l.weather_code.value)?"./Assets/color/".concat(l.weather_code.value,"_day.svg"):"./Assets/color/".concat(l.weather_code.value,".svg");var r=new Date(Date.parse(l.observation_time.value)).toDateString().split(" ")[0];return c.a.createElement("div",{style:{display:"flex",justifyContent:"center",margin:"1em 0.5em"}},c.a.createElement("div",{style:{margin:"0em 1em 1em"}},r),c.a.createElement("div",null,c.a.createElement("span",{style:{margin:"0em 1em 1em"},className:"icon"},c.a.createElement("img",{src:t,alt:"product"}))),c.a.createElement(E,{max:a,min:n,data:[l.temp[0].min.value,l.temp[1].max.value]}))}function b(e){var t,a,n=e.weather;n.map((function(e,n){void 0===t&&void 0===a&&(a=e.temp[0].min.value,t=e.temp[1].max.value),t&&void 0!==a&&(e.temp[0].min.value<a&&(a=e.temp[0].min.value),e.temp[1].max.value>t&&(t=e.temp[1].max.value))}));return n.map((function(e,n){return c.a.createElement("div",{style:{width:"100%",maxWidth:"830px",margin:"0 auto"},className:"week-info"},c.a.createElement(w,{max:t,min:a,data:e,key:n,id:n}))}))}var x=a(16),O=a.n(x);function j(e){var t=e.location,a=t[0],n=t[1];return c.a.createElement(O.a,{lat:a,lng:n,zoom:10,mapField:"temp"})}a(57),a(58);function _(){var e=Object(n.useState)(!0),t=Object(m.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)(),s=Object(m.a)(r,2),u=s[0],p=s[1],h=Object(n.useState)([40.741621,-73.99353]),g=Object(m.a)(h,2),E=g[0],w=g[1],x=Object(n.useState)(),O=Object(m.a)(x,2),_=O[0],k=O[1],N=function(){var e=Object(o.a)(i.a.mark((function e(t,a){var n,c,r,s,o,m;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Date,k(n),c=n.setDate(n.getDate()+1),c=n.toISOString(),r=n.setDate(n.getDate()+7),r=n.toISOString(),e.next=8,fetch("https://api.climacell.co/v3/weather/realtime?lat=".concat(t,"&lon=").concat(a,"&unit_system=us&fields%5B%5D=temp&fields%5B%5D=feels_like&fields%5B%5D=baro_pressure&fields%5B%5D=wind_speed&fields%5B%5D=dewpoint&fields%5B%5D=humidity&fields%5B%5D=weather_code&apikey=").concat("GT9RlI6sr2OjyLvlGOdOF4RX0qLgkFxH")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 8:return s=e.sent,e.next=11,fetch("https://api.climacell.co/v3/weather/forecast/hourly?unit_system=us&start_time=now&end_time=".concat(c,"&lat=").concat(t,"&lon=").concat(a,"&apikey=").concat("GT9RlI6sr2OjyLvlGOdOF4RX0qLgkFxH")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 11:return o=e.sent,e.next=14,fetch("https://api.climacell.co/v3/weather/forecast/daily?lat=".concat(t,"&lon=").concat(a,"&end_time=").concat(r,"&fields%5B%5D=temp&fields%5B%5D=weather_code&unit_system=us&apikey=").concat("GT9RlI6sr2OjyLvlGOdOF4RX0qLgkFxH")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 14:m=e.sent,Promise.all([s,o,m]).then((function(e){p({day:e[0],hourly:e[1],week:e[2]}),l(!1)}));case 16:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){var e,t;e=E[0],t=E[1],l(!0),N(e,t)}),[E]);return c.a.createElement("div",{className:"App"},c.a.createElement(v,{sendLocation:function(e){w([e[1],e[0]])},onClick:function(){navigator.geolocation.getCurrentPosition((function(e){var t=e.coords.latitude,a=e.coords.longitude;w([t,a])}))}}),!a&&c.a.createElement(d.a,null,c.a.createElement(f,{weather:u.day}),c.a.createElement(y,{weather:u.day,date:_,hourly_weather:u.hourly}),c.a.createElement(j,{location:E}),c.a.createElement(b,{weather:u.week})))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.4a70ea62.chunk.js.map
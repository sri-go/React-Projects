{"version":3,"sources":["Components/Control.js","Components/Details.js","Components/Main.js","Components/Bar.js","Components/WeekDetails.js","Components/Week.js","Components/Map.js","Components/App.js","serviceWorker.js","index.js"],"names":["Control","props","className","onClick","icon","style","width","placeholder","value","location","onChange","event","name","Details","weather","undefined","wind_speed","units","humidity","dewpoint","weather_code","baro_pressure","Main","day","loading","date","getHours","img_src","includes","process","src","alt","temp","feels_like","Bar","max","min","numSteps","stepPercent","marginLeftSteps","data","marginLeft","display","position","height","margin","textAlign","lineHeight","fontWeight","minHeight","backgroundColor","borderRadius","WeekDetails","dateReadable","Date","parse","observation_time","toDateString","split","justifyContent","Week","week_details","map","index","key","id","Map","console","log","lat","lng","zoom","mapField","App","useState","done","setDone","setLoading","setLocation","setWeather","coordinates","setCoordinates","setDate","useEffect","long","a","hourly_date","getDate","toISOString","weekly_date","fetch","then","response","json","catch","error","day_weather","hourly_weather","week_weather","hourly","week","setTimeout","fetchData","defaultOptions","loop","autoplay","animationData","rendererSettings","preserveAspectRatio","defaultOptions2","animationData2","target","features","center","navigator","geolocation","getCurrentPosition","latitude","coords","longitude","maxWidth","alignItems","options","library","add","fas","Boolean","window","hostname","match","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister","message"],"mappings":"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","file":"static/js/main.2d7d469b.chunk.js","sourcesContent":["import React from 'react';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nexport default function Control(props) {\n  // console.log(props);\n  function handleChange(event) {\n    props.onChange(event);\n  }\n  function handleClick() {\n    //1st function in array\n    props.onClick[0]();\n  }\n\n  return (\n    <div className=\"control\">\n      <button\n        className=\"button\"\n        onClick={() => {\n          //2nd function in array\n          props.onClick[1]();\n        }}\n      >\n        <FontAwesomeIcon icon={['fas', 'location-arrow']} />\n      </button>\n      <input\n        style={{ width: '50%' }}\n        className=\"input\"\n        placeholder=\"Enter Location\"\n        value={props.location}\n        onChange={handleChange}\n        name=\"location\"\n      ></input>\n      <button className=\"button\" onClick={handleClick}>\n        <FontAwesomeIcon icon={['fas', 'search']} />\n      </button>\n    </div>\n  );\n}\n","import React from 'react';\n\nexport default function Details(props) {\n  const { weather } = props;\n  let loading = undefined;\n  typeof weather === undefined ? (loading = true) : (loading = false);\n\n  if (!loading) {\n    return (\n      <div className=\"detailsWrapper\">\n        <div className=\"details\">\n          <div className=\"wind\">\n            <span className=\"label\">Wind:</span>\n            <span>\n              {weather.wind_speed.value} {weather.wind_speed.units}\n            </span>\n          </div>\n          <div className=\"humidity\">\n            <span className=\"label\">Humidity:</span>\n            <span>\n              {weather.humidity.value} {weather.humidity.units}\n            </span>\n          </div>\n          <div className=\"dew_point\">\n            <span className=\"label\">Dew Point:</span>\n            <span>\n              {weather.dewpoint.value} {weather.dewpoint.units}\n            </span>\n          </div>\n          <div className=\"visibility\">\n            <span className=\"label\">Visibility:</span>\n            <span>{weather.weather_code.value}</span>\n          </div>\n          <div className=\"pressure\">\n            <span className=\"label\">Pressure:</span>\n            <span>\n              {weather.baro_pressure.value}{' '}\n              {weather.baro_pressure.units}\n            </span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n  return <div>Loading</div>;\n}\n","import React from 'react';\n\nexport default function Main(props) {\n  const { weather, date } = props;\n  let loading = undefined;\n  typeof weather === undefined ? (loading = true) : (loading = false);\n\n  const time = date.getHours();\n  let day;\n  time > 18 ? (day = '_night') : (day = '_day');\n  const weather_array = ['partly_cloudy', 'mostly_clear', 'clear'];\n\n  if (!loading) {\n    let img_src;\n    img_src = weather_array.includes(weather.weather_code.value)\n      ? (img_src = `${process.env.PUBLIC_URL}/Assets/color/${weather.weather_code.value}${day}.svg`)\n      : (img_src = `${process.env.PUBLIC_URL}/Assets/color/${weather.weather_code.value}.svg`);\n\n    // console.log(img_src);\n    return (\n      <div className=\"center\">\n        <div className=\"title\">\n          <span className=\"currently\">\n            <span className=\"icon\">\n              <img src={img_src} alt=\"product\" />\n            </span>\n            <span className=\"description\">\n              <span className=\"summary\">\n                <span className=\"label\">Temperature:</span>\n                <span>\n                  {weather.temp.value}&deg;{weather.temp.units}\n                </span>\n              </span>\n              <span className=\"summary-high-low\">\n                <span className=\"label\">Feels Like:&nbsp;</span>\n                <span>\n                  {weather.feels_like.value}&deg;\n                  {weather.feels_like.units}\n                </span>\n              </span>\n            </span>\n          </span>\n        </div>\n        <div className=\"timeline\"></div>\n      </div>\n    );\n  }\n  return <div> Loading </div>;\n}\n","import React from 'react';\n\nexport default function Bar(props) {\n  //   console.log(props);\n  const max = props.max;\n  const min = props.min;\n  const numSteps = max - min;\n  const stepPercent = 100 / numSteps;\n  const marginLeftSteps = props.data[0] - min;\n  const marginLeft = marginLeftSteps * stepPercent;\n  const high = max - props.data[1];\n  const width = (numSteps - marginLeftSteps - high) * stepPercent;\n\n  return (\n    <span\n      style={{\n        display: 'block',\n        position: 'relative',\n        width: '570px',\n        height: '100%',\n        margin: '0em 3em 1em',\n      }}\n    >\n      {/* Min Temp */}\n      <span\n        style={{\n          textAlign: 'right',\n          marginLeft: '-55px',\n          lineHeight: '24px',\n          fontWeight: '16px',\n          fontWeight: '400',\n          display: 'block',\n          position: 'absolute',\n          width: '50px',\n          height: '24px',\n          left: `${marginLeft}%`,\n        }}\n      >\n        {props.data[0]}&#730;\n      </span>\n      {/* Bar */}\n      <span\n        style={{\n          display: 'block',\n          position: 'absolute',\n          marginLeft: `${marginLeft}%`,\n          width: `${width}%`,\n          minHeight: '20px',\n          backgroundColor: `#333`,\n          borderRadius: '10px',\n        }}\n      ></span>\n      {/* Max Temp */}\n      <span\n        style={{\n          textAlign: 'left',\n          marginLeft: '7px',\n          lineHeight: '24px',\n          fontWeight: '16px',\n          fontWeight: '400',\n          display: 'block',\n          position: 'absolute',\n          width: '50px',\n          height: '24px',\n          left: `${marginLeft + width}%`,\n        }}\n      >\n        {props.data[1]}&#730;\n      </span>\n    </span>\n  );\n}\n","import React from 'react';\nimport Bar from './Bar';\n\nexport default function WeekDetails(props) {\n  //   console.log(props);\n  const { max, min, data } = props;\n  const weather_array = ['partly_cloudy', 'mostly_clear', 'clear'];\n  let img_src;\n  img_src = weather_array.includes(data.weather_code.value)\n    ? (img_src = `${process.env.PUBLIC_URL}/Assets/color/${data.weather_code.value}_day.svg`)\n    : (img_src = `${process.env.PUBLIC_URL}//Assets/color/${data.weather_code.value}.svg`);\n  let dateObject = new Date(Date.parse(data.observation_time.value));\n  let dateReadable = dateObject.toDateString().split(' ')[0];\n\n  return (\n    <div\n      style={{\n        display: 'flex',\n        justifyContent: 'center',\n        margin: '1em 0.5em',\n      }}\n    >\n      <div style={{ margin: '0em 1em 1em' }}>{dateReadable}</div>\n      <div>\n        <span style={{ margin: '0em 1em 1em' }} className=\"icon\">\n          <img src={img_src} alt=\"product\" />\n        </span>\n      </div>\n      <Bar\n        max={max}\n        min={min}\n        data={[data.temp[0].min.value, data.temp[1].max.value]}\n      />\n    </div>\n  );\n}\n","import React from 'react';\nimport WeekDetails from './WeekDetails';\n\nexport default function Week(props) {\n  // console.log(props);\n  const { weather } = props;\n\n  let max, min;\n  const findMaxMin = weather.map((day, index) => {\n    // if max and min are undefined, store the value at the current index\n    if (max === undefined && min === undefined) {\n      min = day.temp[0].min.value;\n      max = day.temp[1].max.value;\n    }\n    if (max && min !== undefined) {\n      if (day.temp[0].min.value < min) {\n        // if the min at the current index is less than the stored min\n        min = day.temp[0].min.value;\n      }\n      // if the max at current day is greater than stored max\n      if (day.temp[1].max.value > max) {\n        max = day.temp[1].max.value;\n      }\n    }\n  });\n\n  const week_details = weather.map((day, index) => {\n    return (\n      <WeekDetails\n        max={max}\n        min={min}\n        data={day}\n        key={index}\n        id={index}\n      ></WeekDetails>\n    );\n  });\n  return typeof props.weather === undefined ? (\n    <div>1 </div>\n  ) : (\n    week_details\n  );\n}\n","import React from 'react';\nimport DarkskyMap from 'react-darksky-map';\n\nconst styles = {\n  width: '100vw',\n  height: '50vh',\n};\n\nexport default function Map(props) {\n  console.log('x', props.location[1]);\n  console.log('y', props.location[0]);\n\n  return (\n    <DarkskyMap\n      lat={props.location[0]}\n      lng={props.location[1]}\n      zoom={10}\n      mapField=\"precip\"\n    ></DarkskyMap>\n  );\n}\n","import React, { useState, useEffect } from 'react';\nimport Lottie from 'react-lottie';\nimport FadeIn from 'react-fade-in';\nimport Control from './Control';\nimport Details from './Details';\nimport Main from './Main';\nimport Week from './Week';\nimport Map from './Map';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport '../Styles/App.css';\nimport 'bulma/css/bulma.css';\nimport animationData from '../lotties/9825-loading-screen-loader-spinning-circle.json';\nimport animationData2 from '../lotties/24847-confirmation.json';\nlibrary.add(fas);\n\nexport default function App() {\n  const [done, setDone] = useState(undefined);\n  const [loading, setLoading] = useState(false);\n  const [location, setLocation] = useState('');\n  const [weather, setWeather] = useState(undefined);\n  const [coordinates, setCoordinates] = useState([\n    40.741621,\n    -73.99353,\n  ]);\n  const [date, setDate] = useState();\n\n  useEffect(() => {\n    let lat, long;\n    //default to NYC to get data\n    console.log(coordinates);\n    lat = coordinates[0];\n    long = coordinates[1];\n\n    const fetchData = async function () {\n      let date = new Date();\n      setDate(date);\n      let hourly_date = date.setDate(date.getDate() + 1);\n      hourly_date = date.toISOString();\n      let weekly_date = date.setDate(date.getDate() + 7);\n      weekly_date = date.toISOString();\n\n      const day_weather = await fetch(\n        `https://api.climacell.co/v3/weather/realtime?lat=${lat}&lon=${long}&unit_system=us&fields%5B%5D=temp&fields%5B%5D=feels_like&fields%5B%5D=baro_pressure&fields%5B%5D=wind_speed&fields%5B%5D=dewpoint&fields%5B%5D=humidity&fields%5B%5D=weather_code&apikey=GT9RlI6sr2OjyLvlGOdOF4RX0qLgkFxH`,\n      )\n        .then((response) => response.json())\n        .catch((error) => console.log(error));\n\n      const hourly_weather = await fetch(\n        `https://api.climacell.co/v3/weather/forecast/hourly?unit_system=us&start_time=now&end_time=${hourly_date}&lat=${lat}&lon=${long}&apikey=GT9RlI6sr2OjyLvlGOdOF4RX0qLgkFxH`,\n      )\n        .then((response) => response.json())\n        .catch((error) => console.log(error));\n\n      const week_weather = await fetch(\n        `https://api.climacell.co/v3/weather/forecast/daily?lat=${lat}&lon=${long}&end_time=${weekly_date}&fields%5B%5D=temp&fields%5B%5D=weather_code&unit_system=us&apikey=GT9RlI6sr2OjyLvlGOdOF4RX0qLgkFxH`,\n      )\n        .then((response) => response.json())\n        .catch((error) => console.log(error));\n\n      const combined = {\n        day: day_weather,\n        hourly: hourly_weather,\n        week: week_weather,\n      };\n      setWeather(combined);\n      setLoading(true);\n      setTimeout(() => {\n        setDone(true);\n      }, 1500);\n    };\n\n    fetchData();\n  }, [coordinates]);\n\n  function handleChange(event) {\n    setLocation(event.target.value);\n  }\n\n  function handleClick() {\n    setDone(false);\n    setLoading(false);\n    // setLoading(true);\n    //Gets location inputted and fetches geocoded location data\n    //Sends geocode to getWeather function to return weather data and then sets it to state\n    fetch(\n      `https://api.mapbox.com/geocoding/v5/mapbox.places/${location}.json?access_token=pk.eyJ1Ijoic3JpLWdvIiwiYSI6ImNrODUyeHp1YjAyb2wzZXA4b21veGhqdjgifQ.wprAUOeXWkoWy1-nbUd1NQ`,\n    )\n      .then((response) => response.json())\n      .then((response) => {\n        //returns promise of weather-data\n        let lat = response.features[0].center[1];\n        let long = response.features[0].center[0];\n        setCoordinates([lat, long]);\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function getLocation() {\n    setDone(false);\n    setLoading(false);\n    const geo = navigator.geolocation;\n    geo.getCurrentPosition((position) => {\n      const latitude = position.coords.latitude;\n      const longitude = position.coords.longitude;\n      setCoordinates([latitude, longitude]);\n      // console.log(latitude, longitude);\n      // console.log(`loading: ${loading} done: ${done}`);\n    });\n  }\n\n  const defaultOptions = {\n    loop: true,\n    autoplay: true,\n    animationData: animationData,\n    rendererSettings: {\n      preserveAspectRatio: 'xMidYMid slice',\n    },\n  };\n\n  const defaultOptions2 = {\n    loop: true,\n    autoplay: true,\n    animationData: animationData2,\n    rendererSettings: {\n      preserveAspectRatio: 'xMidYMid slice',\n    },\n  };\n\n  return (\n    <div className=\"App\">\n      <Control\n        location={location}\n        onChange={handleChange}\n        onClick={[handleClick, getLocation]}\n      />\n      {!done ? (\n        <FadeIn>\n          <div\n            style={{\n              height: '90vh',\n              display: 'flex',\n              justifyContent: 'center',\n              alignItems: 'center',\n            }}\n          >\n            {!loading ? (\n              <Lottie\n                options={defaultOptions}\n                height={400}\n                width={400}\n              ></Lottie>\n            ) : (\n              <Lottie\n                options={defaultOptions2}\n                height={400}\n                width={400}\n              ></Lottie>\n            )}\n          </div>\n        </FadeIn>\n      ) : (\n        <div>\n          <FadeIn>\n            <div className=\"main-info\">\n              <Details weather={weather.day} />\n              <Main\n                weather={weather.day}\n                date={date}\n                hourly_weather={weather.hourly}\n              />\n            </div>\n          </FadeIn>\n          <FadeIn>\n            <div className=\"map\">\n              <Map location={coordinates} />\n            </div>\n          </FadeIn>\n          <FadeIn>\n            <div\n              style={{\n                width: '100%',\n                maxWidth: '830px',\n                margin: '0 auto',\n              }}\n              className=\"week-info\"\n            >\n              <Week weather={weather.week} />\n            </div>\n          </FadeIn>\n        </div>\n      )}\n    </div>\n  );\n}\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './Styles/index.css';\nimport App from './Components/App';\nimport * as serviceWorker from './serviceWorker';\n\nconsole.log('public url: ', process.env['PUBLIC_URL']);\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}
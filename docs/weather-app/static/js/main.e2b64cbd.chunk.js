(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{14:function(e,a,t){e.exports=t(30)},19:function(e,a,t){},28:function(e,a,t){},30:function(e,a,t){"use strict";t.r(a);var n=t(0),c=t.n(n),l=t(10),r=t.n(l),o=(t(19),t(6)),s=t.n(o),i=t(11),m=t(2),u=t(12);function d(e){return c.a.createElement("div",{className:"control"},c.a.createElement("input",{style:{width:"50%"},className:"input",placeholder:"Enter Location",value:e.location,onChange:function(a){e.onChange(a)},name:"location"}),c.a.createElement("button",{className:"button",onClick:function(){e.onClick()}},c.a.createElement(u.a,{icon:["fas","search"]})))}function p(e){var a=e.weather;return void 0===typeof a?c.a.createElement("div",null,"Loading"):c.a.createElement("div",{className:"detailsWrapper"},c.a.createElement("div",{className:"details"},c.a.createElement("div",{className:"wind"},c.a.createElement("span",{className:"label"},"Wind:"),c.a.createElement("span",null,a.wind_speed.value," ",a.wind_speed.units)),c.a.createElement("div",{className:"humidity"},c.a.createElement("span",{className:"label"},"Humidity:"),c.a.createElement("span",null,a.humidity.value," ",a.humidity.units)),c.a.createElement("div",{className:"dew_point"},c.a.createElement("span",{className:"label"},"Dew Point:"),c.a.createElement("span",null,a.dewpoint.value," ",a.dewpoint.units)),c.a.createElement("div",{className:"visibility"},c.a.createElement("span",{className:"label"},"Visibility:"),c.a.createElement("span",null,a.weather_code.value)),c.a.createElement("div",{className:"pressure"},c.a.createElement("span",{className:"label"},"Pressure:"),c.a.createElement("span",null,a.baro_pressure.value," ",a.baro_pressure.units))))}function v(e){var a,t=e.weather,n=void 0;n=void 0===typeof t,a=e.date.getHours()>18?"_night":"_day";var l;return n?c.a.createElement("div",null," Loading "):(l=l=["partly_cloudy","mostly_clear","clear"].includes(t.weather_code.value)?"".concat("/Assets/color/").concat(t.weather_code.value).concat(a,".svg"):"".concat("/Assets/color/").concat(t.weather_code.value,".svg"),console.log(l),c.a.createElement("div",{className:"center"},c.a.createElement("div",{className:"title"},c.a.createElement("span",{className:"currently"},c.a.createElement("span",{className:"icon"},c.a.createElement("img",{src:l,alt:"product"})),c.a.createElement("span",{className:"description"},c.a.createElement("span",{className:"summary"},c.a.createElement("span",{className:"label"},"Temperature:"),c.a.createElement("span",null,t.temp.value," \xb0",t.temp.units)),c.a.createElement("span",{className:"summary-high-low"},c.a.createElement("span",{className:"label"},"Feels Like:"),c.a.createElement("span",null,t.feels_like.value," \xb0",t.feels_like.units)))))))}function f(e){var a,t=e.data;a=a=["partly_cloudy","mostly_clear","clear"].includes(t.weather_code.value)?"".concat("/Assets/color/").concat(t.weather_code.value,"_day.svg"):"".concat("/Assets/color/").concat(t.weather_code.value,".svg");var n=new Date(Date.parse(t.observation_time.value)).toDateString().split(" ")[0];return c.a.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".5em 0em"}},c.a.createElement("div",null,n),c.a.createElement("div",null,c.a.createElement("span",{className:"icon"},c.a.createElement("img",{src:a,alt:"product"}))),c.a.createElement("div",null,"Min: ",t.temp[0].min.value," \xb0",t.temp[0].min.units,c.a.createElement("br",null),"Max: ",t.temp[1].max.value," \xb0",t.temp[1].max.units))}function h(e){var a=e.weather.map((function(e,a){return c.a.createElement(f,{data:e,key:a,id:a})}));return void 0===typeof e.weather?c.a.createElement("div",null,"1 "):a}t(9).config(),t(9).config();var w=t(7),E=t.n(w),y=(t(27),{width:"100vw",height:"50vh"});function b(e,a){return Math.floor((e+180)/360*Math.pow(2,a))}function g(e,a){return Math.floor((1-Math.log(Math.tan(e*Math.PI/180)+1/Math.cos(e*Math.PI/180))/Math.PI)/2*Math.pow(2,a))}function N(e){var a=Object(n.useState)(null),t=Object(m.a)(a,2),l=t[0],r=t[1],o=Object(n.useRef)(null);return console.log("x",g(e.location[1],10)),console.log("y",b(e.location[0],10)),Object(n.useEffect)((function(){E.a.accessToken="pk.eyJ1Ijoic3JpLWdvIiwiYSI6ImNrODUyeHp1YjAyb2wzZXA4b21veGhqdjgifQ.wprAUOeXWkoWy1-nbUd1NQ";l||function(a){var t=a.setMap,n=a.mapContainer,c=new E.a.Map({container:n.current,style:"mapbox://styles/mapbox/light-v10",center:[e.location[1],e.location[0]],zoom:13});c.on("load",(function(){t(c),c.resize(),c.addSource("climacell-api",{type:"raster",tiles:["https://api.climacell.co/v3/weather/layers/temperature/now/10/".concat(g(e.location[1],10),"/").concat(b(e.location[0],10),".png?apikey=WgGx8VA8VQUANapmJ6AkIEmObMfbWt9d")],tileSize:256,attribution:'&copy; <a href="https://www.climacell.co/weather-api">Powered by ClimaCell</a>'}),c.addLayer({id:"radar-tiles",type:"raster",source:"climacell-api",minzoom:1,maxzoom:12})}))}({setMap:r,mapContainer:o})}),[l]),c.a.createElement("div",{ref:function(e){return o.current=e},style:y})}var _=t(3),j=t(13);t(28),t(29);function k(){var e=Object(n.useState)(void 0),a=Object(m.a)(e,2),t=a[0],l=a[1],r=Object(n.useState)(""),o=Object(m.a)(r,2),u=o[0],f=o[1],w=Object(n.useState)(void 0),E=Object(m.a)(w,2),y=E[0],b=E[1],g=Object(n.useState)([40.741621,-73.99353]),_=Object(m.a)(g,2),j=_[0],k=_[1],O=Object(n.useState)(),A=Object(m.a)(O,2),M=A[0],x=A[1];return Object(n.useEffect)((function(){var e,a;console.log(j),e=j[0],a=j[1],function(){var t=Object(i.a)(s.a.mark((function t(){var n,c,r;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new Date,x(n),n.setDate(n.getDate()+7),n=n.toISOString(),t.next=6,fetch("https://api.climacell.co/v3/weather/realtime?lat=".concat(e,"&lon=").concat(a,"&unit_system=us&fields%5B%5D=temp&fields%5B%5D=feels_like&fields%5B%5D=baro_pressure&fields%5B%5D=wind_speed&fields%5B%5D=dewpoint&fields%5B%5D=humidity&fields%5B%5D=weather_code&apikey=WgGx8VA8VQUANapmJ6AkIEmObMfbWt9d")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 6:return c=t.sent,t.next=9,fetch("https://api.climacell.co/v3/weather/forecast/daily?lat=".concat(e,"&lon=").concat(a,"&end_time=").concat(n,"&fields%5B%5D=temp&fields%5B%5D=weather_code&unit_system=us&apikey=WgGx8VA8VQUANapmJ6AkIEmObMfbWt9d")).then((function(e){return e.json()})).catch((function(e){return console.log(e)}));case 9:r=t.sent,b({day:c,week:r}),l(!0);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}),[j]),c.a.createElement("div",{className:"App"},c.a.createElement(d,{location:u,onChange:function(e){f(e.target.value)},onClick:function(){l(!1),fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/".concat(u,".json?access_token=pk.eyJ1Ijoic3JpLWdvIiwiYSI6ImNrODUyeHp1YjAyb2wzZXA4b21veGhqdjgifQ.wprAUOeXWkoWy1-nbUd1NQ")).then((function(e){return e.json()})).then((function(e){var a=e.features[0].center[1],t=e.features[0].center[0];k([a,t])})).catch((function(e){return console.log(e)}))}}),t?c.a.createElement("div",null,c.a.createElement("div",{className:"main-info"},c.a.createElement(p,{weather:y.day}),c.a.createElement(v,{weather:y.day,date:M})),c.a.createElement("div",{className:"map"},c.a.createElement(N,{location:j})),c.a.createElement("div",{className:"week-info"},c.a.createElement(h,{weather:y.week}))):c.a.createElement("div",{div:!0,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"100%"}},"Loading"))}_.b.add(j.a);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[14,1,2]]]);
//# sourceMappingURL=main.e2b64cbd.chunk.js.map